---

:backends: yaml

:yaml:
  :datadir: "/"

# Hiera lookiup
# 
# Some lookup values are set inside previous hiera files:
#
# role - Role should be set in clientcert
:hierarchy:
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/defaults"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/clientcert/%{::clientcert}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/domain/%{::domain}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/environment/%{::environment}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/os/%{::osfamily}/%{::operatingsystem}/%{::operatingsystemmajrelease}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/tier/%{::tier}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/role/%{hiera('role')}"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/global"
  - "etc/puppetlabs/puppet/hiera/hiera_%{::environment}/common"
  - "vagrant/puppet/hiera/%{::environment}/defaults"
  - "vagrant/puppet/hiera/%{::environment}/clientcert/%{::clientcert}"
  - "vagrant/puppet/hiera/%{::environment}/domain/%{::domain}"
  - "vagrant/puppet/hiera/%{::environment}/environment/%{::environment}"
  - "vagrant/puppet/hiera/%{::environment}/os/%{::osfamily}/%{::operatingsystem}/%{::operatingsystemmajrelease}"
  - "vagrant/puppet/hiera/%{::environment}/tier/%{::tier}"
  - "vagrant/puppet/hiera/%{::environment}/role/%{hiera('role')}"
  - "vagrant/puppet/hiera/%{::environment}/global"
  - "vagrant/puppet/hiera/%{::environment}/common"
